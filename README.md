<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>西游记八十一难全记录</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background-color: #f5f5dc;
            color: #333;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background-color: #8B4513;
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 10px 10px 0 0;
            margin-bottom: 20px;
        }
        h1 {
            margin: 0;
            font-size: 2.2em;
        }
        .subtitle {
            font-style: italic;
            margin-top: 10px;
        }
        .controls {
            background-color: #e6d9c5;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        .filter-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            background-color: #8B4513;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }
        .filter-btn:hover {
            background-color: #6B3410;
        }
        .filter-btn.active {
            background-color: #FFD700;
            color: #8B4513;
            font-weight: bold;
        }
        .timeline {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        .tribulation-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.3s;
        }
        .tribulation-card:hover {
            transform: translateY(-5px);
        }
        .card-header {
            background-color: #8B4513;
            color: white;
            padding: 12px 15px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
        }
        .card-body {
            padding: 15px;
        }
        .card-body p {
            margin: 10px 0;
            line-height: 1.6;
        }
        .characters {
            margin-top: 15px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        .character-tag {
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.8em;
        }
        .sun-wukong { background-color: #FFD700; color: #8B4513; }
        .tang-sanzang { background-color: #87CEEB; color: #1E4D6B; }
        .zhu-bajie { background-color: #FFA07A; color: #8B4513; }
        .sha-wujing { background-color: #98FB98; color: #006400; }
        .bai-longma { background-color: #E6E6FA; color: #483D8B; }
        .other { background-color: #D3D3D3; color: #696969; }
        .search-box {
            padding: 10px;
            width: 100%;
            max-width: 500px;
            border: 2px solid #8B4513;
            border-radius: 5px;
            font-size: 1em;
        }
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
            padding: 10px;
            background-color: #f9f3e6;
            border-radius: 5px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin-right: 15px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 5px;
        }
        @media (max-width: 768px) {
            .timeline {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>西游记八十一难全记录</h1>
            <div class="subtitle">唐僧师徒西天取经历经的九九八十一难</div>
        </header>
        
        <div class="controls">
            <input type="text" class="search-box" placeholder="搜索灾难名称或内容..." id="searchInput">
            <button class="filter-btn active" data-filter="all">全部</button>
            <button class="filter-btn" data-filter="sun-wukong">孙悟空</button>
            <button class="filter-btn" data-filter="tang-sanzang">唐三藏</button>
            <button class="filter-btn" data-filter="zhu-bajie">猪八戒</button>
            <button class="filter-btn" data-filter="sha-wujing">沙悟净</button>
            <button class="filter-btn" data-filter="bai-longma">白龙马</button>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: #FFD700;"></div>
                <span>孙悟空</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #87CEEB;"></div>
                <span>唐三藏</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #FFA07A;"></div>
                <span>猪八戒</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #98FB98;"></div>
                <span>沙悟净</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #E6E6FA;"></div>
                <span>白龙马</span>
            </div>
        </div>
        
        <div class="timeline" id="timelineContainer">
            <!-- 灾难卡片将通过JavaScript动态生成 -->
        </div>
    </div>

    <script>
        // 八十一难数据
        const tribulations = [
            {
                id: 1,
                title: "金蝉遭贬第一难",
                description: "如来佛祖二弟子金蝉子因轻慢佛法被贬下凡间，转世为唐僧。",
                characters: ["tang-sanzang"]
            },
            {
                id: 2,
                title: "出胎几杀第二难",
                description: "唐僧出生时被母亲放入江中漂流，险些被杀。",
                characters: ["tang-sanzang"]
            },
            {
                id: 3,
                title: "满月抛江第三难",
                description: "唐僧满月时被抛入江中，被金山寺法明和尚救起。",
                characters: ["tang-sanzang"]
            },
            {
                id: 4,
                title: "寻亲报冤第四难",
                description: "唐僧长大后寻找到母亲，为父母报仇。",
                characters: ["tang-sanzang"]
            },
            {
                id: 5,
                title: "出城逢虎第五难",
                description: "唐僧刚出长安城就遇到猛虎，被猎户刘伯钦所救。",
                characters: ["tang-sanzang"]
            },
            {
                id: 6,
                title: "落坑折从第六难",
                description: "唐僧与随从掉入妖怪陷阱，随从被妖怪吃掉。",
                characters: ["tang-sanzang"]
            },
            {
                id: 7,
                title: "双叉岭上第七难",
                description: "在双叉岭遇到寅将军、熊山君和特处士三个妖怪。",
                characters: ["tang-sanzang"]
            },
            {
                id: 8,
                title: "两界山头第八难",
                description: "在两界山遇到被压五百年的孙悟空，收为徒弟。",
                characters: ["tang-sanzang", "sun-wukong"]
            },
            {
                id: 9,
                title: "陡涧换马第九难",
                description: "在鹰愁涧收服白龙马，替代了原来的凡马。",
                characters: ["tang-sanzang", "sun-wukong", "bai-longma"]
            },
            {
                id: 10,
                title: "夜被火烧第十难",
                description: "在观音院，因炫耀锦襕袈裟引起金池长老贪念，寺院被烧。",
                characters: ["tang-sanzang", "sun-wukong"]
            },
            {
                id: 11,
                title: "失却袈裟十一难",
                description: "黑熊怪偷走锦襕袈裟，孙悟空请观音菩萨收服。",
                characters: ["tang-sanzang", "sun-wukong"]
            },
            {
                id: 12,
                title: "收降八戒十二难",
                description: "高老庄收服猪八戒为二徒弟。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie"]
            },
            {
                id: 13,
                title: "黄风怪阻十三难",
                description: "黄风岭遇到黄风怪，孙悟空眼睛被黄风吹伤。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie"]
            },
            {
                id: 14,
                title: "请求灵吉十四难",
                description: "孙悟空请灵吉菩萨用定风丹和飞龙宝杖收服黄风怪。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie"]
            },
            {
                id: 15,
                title: "流沙难渡十五难",
                description: "流沙河收服沙僧为三徒弟。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 16,
                title: "收得沙僧十六难",
                description: "正式收沙僧加入取经队伍。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 17,
                title: "四圣显化十七难",
                description: "黎山老母、观音、文殊、普贤四位菩萨化身试探师徒禅心。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 18,
                title: "五庄观中十八难",
                description: "五庄观偷吃人参果，推倒人参果树。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 19,
                title: "难活人参十九难",
                description: "孙悟空请观音菩萨救活人参果树。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 20,
                title: "贬退心猿二十难",
                description: "三打白骨精后，唐僧误会孙悟空，将其赶走。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            // 继续添加更多灾难...
            {
                id: 21,
                title: "黑松林失散二十一难",
                description: "在黑松林唐僧被黄袍怪捉走，与徒弟失散。",
                characters: ["tang-sanzang", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 22,
                title: "宝象国捎书二十二难",
                description: "宝象国送信救公主，猪八戒请回孙悟空。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 23,
                title: "金銮殿变虎二十三难",
                description: "黄袍怪在宝象国金銮殿上将唐僧变成老虎。",
                characters: ["tang-sanzang"]
            },
            {
                id: 24,
                title: "平顶山逢魔二十四难",
                description: "平顶山遇到金角大王和银角大王。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 25,
                title: "莲花洞高悬二十五难",
                description: "在莲花洞孙悟空被紫金红葫芦和羊脂玉净瓶所困。",
                characters: ["sun-wukong"]
            },
            {
                id: 26,
                title: "乌鸡国救主二十六难",
                description: "乌鸡国救活被青毛狮子精推入井中的国王。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 27,
                title: "被魔化身二十七难",
                description: "红孩儿变成小孩欺骗唐僧。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 28,
                title: "号山逢怪二十八难",
                description: "在号山遇到红孩儿。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 29,
                title: "风摄圣僧二十九难",
                description: "红孩儿用三昧真火攻击孙悟空并抓走唐僧。",
                characters: ["tang-sanzang", "sun-wukong"]
            },
            {
                id: 30,
                title: "心猿遭害三十难",
                description: "红孩儿的三昧真火烧伤孙悟空。",
                characters: ["sun-wukong"]
            },
            {
                id: 31,
                title: "请圣降妖三十一难",
                description: "孙悟空请观音菩萨收服红孩儿。",
                characters: ["sun-wukong"]
            },
            {
                id: 32,
                title: "黑河沉没三十二难",
                description: "黑水河遇到鼍龙怪，抓走唐僧。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 33,
                title: "搬运车迟三十三难",
                description: "车迟国与虎力、鹿力、羊力三大仙斗法。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 34,
                title: "大赌输赢三十四难",
                description: "与三大仙比赛求雨、坐禅、猜物等。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 35,
                title: "祛道兴僧三十五难",
                description: "车迟国国王废除道士，重兴佛教。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 36,
                title: "路逢大水三十六难",
                description: "通天河遇到灵感大王，唐僧被捉。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 37,
                title: "身落天河三十七难",
                description: "唐僧被灵感大王沉入通天河底。",
                characters: ["tang-sanzang"]
            },
            {
                id: 38,
                title: "鱼篮现身三十八难",
                description: "观音菩萨用鱼篮收服灵感大王。",
                characters: ["sun-wukong"]
            },
            {
                id: 39,
                title: "金兜山遇怪三十九难",
                description: "金兜山遇到青牛精，用金刚琢收走兵器。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 40,
                title: "普天神难伏四十难",
                description: "孙悟空请众天神相助，都被青牛精打败。",
                characters: ["sun-wukong"]
            },
            {
                id: 41,
                title: "问佛根源四十一难",
                description: "如来佛祖暗示青牛精来历，请太上老君收服。",
                characters: ["sun-wukong"]
            },
            {
                id: 42,
                title: "吃水遭毒四十二难",
                description: "西梁女国误饮子母河水怀孕。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie"]
            },
            {
                id: 43,
                title: "西梁国留婚四十三难",
                description: "西梁女国国王欲招唐僧为夫。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 44,
                title: "琵琶洞受苦四十四难",
                description: "蝎子精抓走唐僧，孙悟空被蜇伤。",
                characters: ["tang-sanzang", "sun-wukong"]
            },
            {
                id: 45,
                title: "再贬心猿四十五难",
                description: "真假美猴王事件，唐僧再次赶走孙悟空。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 46,
                title: "难辨猕猴四十六难",
                description: "六耳猕猴假扮孙悟空，真假难辨。",
                characters: ["sun-wukong"]
            },
            {
                id: 47,
                title: "路阻火焰山四十七难",
                description: "火焰山阻挡去路，无法通过。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 48,
                title: "求取芭蕉扇四十八难",
                description: "孙悟空向铁扇公主借芭蕉扇灭火。",
                characters: ["sun-wukong"]
            },
            {
                id: 49,
                title: "收缚魔王四十九难",
                description: "牛魔王与孙悟空大战，被众神收服。",
                characters: ["sun-wukong"]
            },
            {
                id: 50,
                title: "赛城扫塔五十难",
                description: "祭赛国金光寺扫塔寻宝，为和尚洗冤。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 51,
                title: "取宝救僧五十一难",
                description: "打败九头虫，夺回国宝舍利子。",
                characters: ["sun-wukong", "zhu-bajie"]
            },
            {
                id: 52,
                title: "棘林吟咏五十二难",
                description: "荆棘岭遇到树精，与唐僧吟诗作对。",
                characters: ["tang-sanzang"]
            },
            {
                id: 53,
                title: "小雷音遇难五十三难",
                description: "小雷音寺遇到黄眉怪假扮如来。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 54,
                title: "稀柿衕秽阻五十四难",
                description: "七绝山稀柿衕被腐烂柿子堵塞，臭气熏天，猪八戒变大体型开路。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 55,
                title: "朱紫国行医五十五难",
                description: "朱紫国国王患病，孙悟空悬丝诊脉，为其治病。",
                characters: ["sun-wukong"]
            },
            {
                id: 56,
                title: "拯救金圣宫五十六难",
                description: "救回被赛太岁掳走的金圣宫娘娘。",
                characters: ["sun-wukong"]
            },
            {
                id: 57,
                title: "降妖取后五十七难",
                description: "孙悟空设计盗取赛太岁的紫金铃，降服妖怪。",
                characters: ["sun-wukong"]
            },
            {
                id: 58,
                title: "七情迷没五十八难",
                description: "盘丝洞七蜘蛛精迷惑唐僧，欲吃其肉。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie"]
            },
            {
                id: 59,
                title: "多目遭伤五十九难",
                description: "黄花观百眼魔君（蜈蚣精）用金光困住孙悟空。",
                characters: ["sun-wukong"]
            },
            {
                id: 60,
                title: "路阻狮驼六十难",
                description: "狮驼岭遇到青狮、白象、大鹏三魔王。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 61,
                title: "怪分三色六十一难",
                description: "三魔王各显神通，分别与师徒三人交战。",
                characters: ["sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 62,
                title: "城里遇灾六十二难",
                description: "狮驼国全城都是妖怪，唐僧被捉。",
                characters: ["tang-sanzang"]
            },
            {
                id: 63,
                title: "请佛收魔六十三难",
                description: "如来佛祖亲自收服大鹏金翅雕。",
                characters: ["sun-wukong"]
            },
            {
                id: 64,
                title: "比丘救子六十四难",
                description: "比丘国救下一千一百一十一个小孩，揭露国丈用小孩心肝做药引的阴谋。",
                characters: ["tang-sanzang", "sun-wukong"]
            },
            {
                id: 65,
                title: "辨认真邪六十五难",
                description: "识破比丘国国丈是南极寿星的白鹿所变。",
                characters: ["sun-wukong"]
            },
            {
                id: 66,
                title: "松林救怪六十六难",
                description: "黑松林救下被绑的女子（白鼠精所变）。",
                characters: ["tang-sanzang"]
            },
            {
                id: 67,
                title: "僧房卧病六十七难",
                description: "镇海寺唐僧生病，停留三日。",
                characters: ["tang-sanzang"]
            },
            {
                id: 68,
                title: "无底洞遭困六十八难",
                description: "陷空山无底洞被白鼠精抓走，逼婚唐僧。",
                characters: ["tang-sanzang", "sun-wukong"]
            },
            {
                id: 69,
                title: "灭法国难行六十九难",
                description: "灭法国国王要杀一万和尚，已杀9996个。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 70,
                title: "隐雾山遇魔七十难",
                description: "隐雾山折岳连环洞遇到艾叶花皮豹子精。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 71,
                title: "凤仙郡求雨七十一难",
                description: "凤仙郡三年大旱，孙悟空查明原因，劝郡侯向善。",
                characters: ["sun-wukong"]
            },
            {
                id: 72,
                title: "失落兵器七十二难",
                description: "玉华县三位王子的兵器被黄狮精偷走。",
                characters: ["sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 73,
                title: "会庆钉钯七十三难",
                description: "黄狮精举办\"钉钯会\"，孙悟空等假扮送货人混入。",
                characters: ["sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 74,
                title: "竹节山遭难七十四难",
                description: "九灵元圣（九头狮子）为黄狮精报仇，捉走唐僧等人。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 75,
                title: "玄英洞受苦七十五难",
                description: "青龙山玄英洞遇到辟寒、辟暑、辟尘三个犀牛精。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 76,
                title: "赶捉犀牛七十六难",
                description: "孙悟空请四木禽星收服三只犀牛精。",
                characters: ["sun-wukong"]
            },
            {
                id: 77,
                title: "天竺招婚七十七难",
                description: "天竺国假公主（玉兔精）抛绣球招唐僧为驸马。",
                characters: ["tang-sanzang", "sun-wukong"]
            },
            {
                id: 78,
                title: "铜台府监禁七十八难",
                description: "铜台府被诬告抢劫寇员外家，师徒入狱。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing"]
            },
            {
                id: 79,
                title: "凌云渡脱胎七十九难",
                description: "过凌云渡乘无底船，脱去凡胎。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing", "bai-longma"]
            },
            {
                id: 80,
                title: "晒经石留迹八十难",
                description: "在晒经石上晒经书，不慎粘破几卷。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing", "bai-longma"]
            },
            {
                id: 81,
                title: "通天河落水八十一难",
                description: "取得真经返回途中，在通天河被老鼋掀翻落水，经书被打湿。",
                characters: ["tang-sanzang", "sun-wukong", "zhu-bajie", "sha-wujing", "bai-longma"]
            }
        ];

        // 渲染灾难卡片
        function renderTribulations(filter = 'all', searchTerm = '') {
            const container = document.getElementById('timelineContainer');
            container.innerHTML = '';
            
            const filtered = tribulations.filter(trib => {
                const matchesFilter = filter === 'all' || trib.characters.includes(filter);
                const matchesSearch = searchTerm === '' || 
                    trib.title.toLowerCase().includes(searchTerm.toLowerCase()) || 
                    trib.description.toLowerCase().includes(searchTerm.toLowerCase());
                return matchesFilter && matchesSearch;
            });
            
            if (filtered.length === 0) {
                container.innerHTML = '<p style="grid-column:1/-1;text-align:center;">没有找到匹配的灾难</p>';
                return;
            }
            
            filtered.forEach(trib => {
                const card = document.createElement('div');
                card.className = 'tribulation-card';
                
                const header = document.createElement('div');
                header.className = 'card-header';
                header.innerHTML = `<span>第${trib.id}难</span><span>${trib.title}</span>`;
                
                const body = document.createElement('div');
                body.className = 'card-body';
                body.innerHTML = `<p>${trib.description}</p>`;
                
                const chars = document.createElement('div');
                chars.className = 'characters';
                
                trib.characters.forEach(char => {
                    let charName = '';
                    let charClass = char;
                    
                    switch(char) {
                        case 'sun-wukong': charName = '孙悟空'; break;
                        case 'tang-sanzang': charName = '唐三藏'; break;
                        case 'zhu-bajie': charName = '猪八戒'; break;
                        case 'sha-wujing': charName = '沙悟净'; break;
                        case 'bai-longma': charName = '白龙马'; break;
                        default: charName = '其他'; charClass = 'other';
                    }
                    
                    const tag = document.createElement('span');
                    tag.className = `character-tag ${charClass}`;
                    tag.textContent = charName;
                    chars.appendChild(tag);
                });
                
                body.appendChild(chars);
                card.appendChild(header);
                card.appendChild(body);
                container.appendChild(card);
            });
        }

        // 初始化页面
        document.addEventListener('DOMContentLoaded', () => {
            renderTribulations();
            
            // 筛选按钮事件
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    renderTribulations(this.dataset.filter, document.getElementById('searchInput').value);
                });
            });
            
            // 搜索框事件
            document.getElementById('searchInput').addEventListener('input', function() {
                const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;
                renderTribulations(activeFilter, this.value);
            });
        });
    </script>
</body>
</html>
